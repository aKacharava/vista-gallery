(this["webpackJsonpvista-gallery"]=this["webpackJsonpvista-gallery"]||[]).push([[0],{11:function(t,e,i){t.exports={item:"_photo-item_item__3bJau",image:"_photo-item_image__1Y858",content:"_photo-item_content__pMEjc",actions:"_photo-item_actions__2fK60"}},12:function(t,e,i){t.exports={form:"_new-photo-form_form__3-gy9",control:"_new-photo-form_control__6CQof",actions:"_new-photo-form_actions__2E0pN"}},13:function(t,e,i){t.exports={header:"_main-navigation_header__3Q0Vj",logo:"_main-navigation_logo__H0ftL",badge:"_main-navigation_badge__2gWA-",active:"_main-navigation_active__2f5D4"}},20:function(t,e,i){t.exports={list:"_photo-list_list__2PbQT"}},21:function(t,e,i){t.exports={card:"_card_card__h11EL"}},23:function(t,e,i){t.exports={main:"_layout_main__lAThZ"}},35:function(t,e,i){},36:function(t,e,i){"use strict";i.r(e);var n=i(1),c=i(19),o=i.n(c),a=i(2),r=i(24),s=i(10),l=i(20),j=i.n(l),d=i(11),h=i.n(d),u=i(21),b=i.n(u),f=i(0);function v(t){return Object(f.jsx)("div",{className:b.a.card,children:t.children})}var O=Object(n.createContext)({favorites:[],totalFavorites:0,addFavorite:function(t){},removeFavorite:function(t){},itemIsFavorite:function(t){}});function x(t){var e=Object(n.useState)([]),i=Object(s.a)(e,2),c=i[0],o=i[1];var a={favorites:c,totalFavorites:c.length,addFavorite:function(t){o((function(e){return e.concat(t)}))},removeFavorite:function(t){o((function(e){return e.filter((function(e){return e.id!==t}))}))},itemIsFavorite:function(t){return c.some((function(e){return e.id===t}))}};return Object(f.jsx)(O.Provider,{value:a,children:t.children})}var m=O;function _(t){var e=Object(n.useContext)(m),i=e.itemIsFavorite(t.id);return Object(f.jsx)("li",{className:h.a.item,children:Object(f.jsxs)(v,{children:[Object(f.jsx)("div",{className:h.a.image,children:Object(f.jsx)("img",{src:t.image,alt:t.title})}),Object(f.jsx)("div",{className:h.a.content,children:Object(f.jsx)("h3",{children:t.title})}),Object(f.jsx)("div",{className:h.a.actions,children:Object(f.jsx)("button",{onClick:function(){i?e.removeFavorite(t.id):e.addFavorite({id:t.id,title:t.title,image:t.image})},children:i?"Remove From Favorites":"Add To Favorites"})})]})})}function p(t){return Object(f.jsx)("ul",{className:j.a.list,children:t.photos.map((function(t){return Object(f.jsx)(_,{id:t.id,image:t.image,title:t.title},t.id)}))})}function g(){var t=Object(n.useState)(!0),e=Object(s.a)(t,2),i=e[0],c=e[1],o=Object(n.useState)([]),a=Object(s.a)(o,2),l=a[0],j=a[1];return Object(n.useEffect)((function(){c(!0),fetch("https://vista-gallery-default-rtdb.europe-west1.firebasedatabase.app/photos.json").then((function(t){return t.json()})).then((function(t){var e=[];for(var i in t){var n=Object(r.a)({id:i},t[i]);e.push(n)}c(!1),j(e)}))}),[]),i?Object(f.jsx)("section",{children:Object(f.jsx)("p",{children:"Loading..."})}):Object(f.jsxs)("section",{children:[Object(f.jsx)("h1",{children:"All Photos"}),Object(f.jsx)(p,{photos:l})]})}var F=i(12),N=i.n(F);function y(t){var e=Object(n.useRef)(),i=Object(n.useRef)();return Object(f.jsx)(v,{children:Object(f.jsxs)("form",{className:N.a.form,onSubmit:function(n){n.preventDefault();var c={title:e.current.value,image:i.current.value};t.onAddPhoto(c)},children:[Object(f.jsxs)("div",{className:N.a.control,children:[Object(f.jsx)("label",{htmlFor:"title",children:"Photo Title"}),Object(f.jsx)("input",{type:"text",required:!0,id:"title",ref:e})]}),Object(f.jsxs)("div",{className:N.a.control,children:[Object(f.jsx)("label",{htmlFor:"title",children:"Photo Image"}),Object(f.jsx)("input",{type:"url",required:!0,id:"image",ref:i})]}),Object(f.jsx)("div",{className:N.a.actions,children:Object(f.jsx)("button",{children:"Add Photo"})})]})})}function P(){var t=Object(a.f)();return Object(f.jsxs)("div",{children:[Object(f.jsx)("h1",{children:"Add New Photo"}),Object(f.jsx)(y,{onAddPhoto:function(e){fetch("https://vista-gallery-default-rtdb.europe-west1.firebasedatabase.app/photos.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(){t.replace("/")}))}})]})}function w(){var t,e=Object(n.useContext)(m);return t=0===e.totalFavorites?Object(f.jsx)("p",{children:"Look for your favorite photos in All Photos to show off later!"}):Object(f.jsx)(p,{photos:e.favorites}),Object(f.jsxs)("section",{children:[Object(f.jsx)("h1",{children:"My Favorites"}),t]})}var A=i(13),k=i.n(A),C=i(8),S=[{id:1,title:"All Photos",link:"/"},{id:2,title:"Add New Photos",link:"new-photos"},{id:3,title:"Favorites",link:"favorites"}];function T(){var t=Object(n.useContext)(m);return Object(f.jsxs)("header",{className:k.a.header,children:[Object(f.jsx)("div",{className:k.a.logo,children:"Vista Gallery"}),Object(f.jsx)("nav",{children:Object(f.jsx)("ul",{children:S.map((function(e,i){var n;return 3===e.id&&(n=Object(f.jsx)("span",{className:k.a.badge,children:t.totalFavorites})),Object(f.jsx)("li",{children:Object(f.jsxs)(C.b,{to:e.link,children:[e.title," ",n]})},i)}))})})]})}var E=i(23),I=i.n(E);function J(t){return Object(f.jsxs)("div",{children:[Object(f.jsx)(T,{}),Object(f.jsx)("main",{className:I.a.main,children:t.children})]})}function L(){return Object(f.jsx)("div",{children:Object(f.jsx)(J,{children:Object(f.jsxs)(a.c,{children:[Object(f.jsx)(a.a,{path:"/",exact:!0,children:Object(f.jsx)(g,{})}),Object(f.jsx)(a.a,{path:"/new-photos",children:Object(f.jsx)(P,{})}),Object(f.jsx)(a.a,{path:"/favorites",children:Object(f.jsx)(w,{})})]})})})}i(35);o.a.render(Object(f.jsx)(x,{children:Object(f.jsx)(C.a,{children:Object(f.jsx)(L,{})})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.48b83fe0.chunk.js.map