{"version":3,"sources":["assets/styles/_photo-item.module.scss","assets/styles/_new-photo-form.module.scss","assets/styles/_main-navigation.module.scss","assets/styles/_photo-list.module.scss","assets/styles/_card.module.scss","assets/styles/_layout.module.scss","assets/components/ui/Card.js","store/favorites-context.js","assets/components/photos/PhotoItem.js","assets/components/photos/PhotoList.js","assets/pages/AllPhotos.js","assets/components/photos/NewPhotoForm.js","assets/pages/NewPhotos.js","assets/pages/Favorites.js","assets/components/layout/MainNavigationItem.js","assets/components/layout/MainNavigation.js","assets/components/layout/Layout.js","App.js","index.js"],"names":["module","exports","Card","props","className","styling","card","children","FavoritesContext","createContext","favorites","totalFavorites","addFavorite","favoritePhoto","removeFavorite","photoId","itemIsFavorite","FavoritesContextProvider","useState","userFavorites","setUserFavorites","context","length","prevUserFavorites","concat","filter","photo","id","some","Provider","value","PhotoItem","favoritesCtx","useContext","item","image","src","alt","title","content","actions","onClick","PhotoList","list","photos","map","AllPhotos","isLoading","setIsLoading","loadedPhotos","setLoadedPhotos","useEffect","fetch","then","response","json","data","key","push","NewPhotoForm","titleInputRef","useRef","imageInputRef","form","onSubmit","event","preventDefault","photoData","current","onAddPhoto","control","htmlFor","type","required","ref","NewPhotos","history","useHistory","method","body","JSON","stringify","headers","replace","Favorites","MainNavigationItem","link","MainNavigation","header","logo","val","favoriteCounter","badge","to","Layout","main","App","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48b83fe0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"_photo-item_item__3bJau\",\"image\":\"_photo-item_image__1Y858\",\"content\":\"_photo-item_content__pMEjc\",\"actions\":\"_photo-item_actions__2fK60\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"_new-photo-form_form__3-gy9\",\"control\":\"_new-photo-form_control__6CQof\",\"actions\":\"_new-photo-form_actions__2E0pN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"_main-navigation_header__3Q0Vj\",\"logo\":\"_main-navigation_logo__H0ftL\",\"badge\":\"_main-navigation_badge__2gWA-\",\"active\":\"_main-navigation_active__2f5D4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"_photo-list_list__2PbQT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"_card_card__h11EL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"_layout_main__lAThZ\"};","import React from 'react';\r\nimport styling from '../../styles/_card.module.scss';\r\n\r\nexport default function Card(props) {\r\n    return (\r\n        <div className={styling.card}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import { createContext, useState } from \"react\";\r\n\r\nconst FavoritesContext = createContext({\r\n  favorites: [],\r\n  totalFavorites: 0,\r\n  addFavorite: (favoritePhoto) => {},\r\n  removeFavorite: (photoId) => {},\r\n  itemIsFavorite: (photoId) => {},\r\n});\r\n\r\nexport function FavoritesContextProvider(props) {\r\nconst [userFavorites, setUserFavorites] = useState([]);\r\n\r\n  function addFavoriteHandler(favoritePhoto) {\r\n    setUserFavorites((prevUserFavorites) => {\r\n      return prevUserFavorites.concat(favoritePhoto);\r\n    });\r\n  }\r\n\r\n  function removeFavoriteHandler(photoId) {\r\n    setUserFavorites((prevUserFavorites) => {\r\n      return prevUserFavorites.filter((photo) => photo.id !== photoId);\r\n    });\r\n  }\r\n\r\n  function itemIsFavoriteHandler(photoId) {\r\n    return userFavorites.some((photo) => photo.id === photoId);\r\n  }\r\n\r\n  const context = {\r\n    favorites: userFavorites,\r\n    totalFavorites: userFavorites.length,\r\n    addFavorite: addFavoriteHandler,\r\n    removeFavorite: removeFavoriteHandler,\r\n    itemIsFavorite: itemIsFavoriteHandler,\r\n  };\r\n\r\n  return (\r\n    <FavoritesContext.Provider value={context}>\r\n      {props.children}\r\n    </FavoritesContext.Provider>\r\n  );\r\n}\r\n\r\nexport default FavoritesContext;","import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport styling from \"../../styles/_photo-item.module.scss\";\r\nimport Card from \"../ui/Card\";\r\nimport FavoritesContext from \"../../../store/favorites-context\";\r\n\r\nexport default function PhotoItem(props) {\r\n  const favoritesCtx = useContext(FavoritesContext);\r\n  const itemIsFavorite = favoritesCtx.itemIsFavorite(props.id);\r\n\r\n  function toggleFavoritesStatusHandler() {\r\n    if (itemIsFavorite) {\r\n      favoritesCtx.removeFavorite(props.id);\r\n    } else {\r\n      favoritesCtx.addFavorite({\r\n        id: props.id,\r\n        title: props.title,\r\n        image: props.image,\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <li className={styling.item}>\r\n      <Card>\r\n        <div className={styling.image}>\r\n          <img src={props.image} alt={props.title} />\r\n        </div>\r\n        <div className={styling.content}>\r\n          <h3>{props.title}</h3>\r\n        </div>\r\n        <div className={styling.actions}>\r\n          <button onClick={toggleFavoritesStatusHandler}>\r\n            {itemIsFavorite ? 'Remove From Favorites' : 'Add To Favorites'}\r\n          </button>\r\n        </div>\r\n      </Card>\r\n    </li>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styling from \"../../styles/_photo-list.module.scss\";\r\nimport PhotoItem from \"./PhotoItem\";\r\n\r\nexport default function PhotoList(props) {\r\n  return (\r\n    <ul className={styling.list}>\r\n      {props.photos.map((photo) => (\r\n        <PhotoItem\r\n          key={photo.id}\r\n          id={photo.id}\r\n          image={photo.image}\r\n          title={photo.title}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport PhotoList from \"../components/photos/PhotoList\";\r\n\r\nexport default function AllPhotos() {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [loadedPhotos, setLoadedPhotos] = useState([]);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n\r\n    fetch(\r\n      \"https://vista-gallery-default-rtdb.europe-west1.firebasedatabase.app/photos.json\"\r\n    )\r\n      .then((response) => {\r\n        return response.json();\r\n      })\r\n      .then((data) => {\r\n        const photos = [];\r\n\r\n        for (const key in data) {\r\n          const photo = {\r\n            id: key,\r\n            ...data[key],\r\n          };\r\n\r\n          photos.push(photo);\r\n        }\r\n\r\n        setIsLoading(false);\r\n        setLoadedPhotos(photos);\r\n      });\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <section>\r\n        <p>Loading...</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <h1>All Photos</h1>\r\n      <PhotoList photos={loadedPhotos} />\r\n    </section>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useRef } from \"react\";\r\nimport Card from \"../ui/Card\";\r\nimport styling from \"../../styles/_new-photo-form.module.scss\";\r\n\r\nexport default function NewPhotoForm(props) {\r\n  const titleInputRef = useRef();\r\n  const imageInputRef = useRef();\r\n\r\n  function submitHandler(event) {\r\n    event.preventDefault();\r\n\r\n    const enteredTitle = titleInputRef.current.value;\r\n    const enteredImage = imageInputRef.current.value;\r\n    const photoData = {\r\n        title: enteredTitle,\r\n        image: enteredImage\r\n    }\r\n\r\n    props.onAddPhoto(photoData);\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <form className={styling.form} onSubmit={submitHandler}>\r\n        <div className={styling.control}>\r\n          <label htmlFor=\"title\">Photo Title</label>\r\n          <input type=\"text\" required id=\"title\" ref={titleInputRef} />\r\n        </div>\r\n        <div className={styling.control}>\r\n          <label htmlFor=\"title\">Photo Image</label>\r\n          <input type=\"url\" required id=\"image\" ref={imageInputRef} />\r\n        </div>\r\n        <div className={styling.actions}>\r\n          <button>Add Photo</button>\r\n        </div>\r\n      </form>\r\n    </Card>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport NewPhotoForm from \"../components/photos/NewPhotoForm.js\";\r\n\r\nexport default function NewPhotos() {\r\n    const history = useHistory();\r\n    \r\n  function addPhotoHandler(photoData) {\r\n    fetch(\r\n      \"https://vista-gallery-default-rtdb.europe-west1.firebasedatabase.app/photos.json\",\r\n      {\r\n        method: \"POST\",\r\n        body: JSON.stringify(photoData),\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n      }\r\n    ).then(() => {\r\n        history.replace('/');\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Add New Photo</h1>\r\n      <NewPhotoForm onAddPhoto={addPhotoHandler} />\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { useContext } from \"react\";\r\nimport FavoritesContext from \"../../store/favorites-context\";\r\nimport PhotoList from \"../components/photos/PhotoList\";\r\n\r\nexport default function Favorites() {\r\n  const favoritesCtx = useContext(FavoritesContext);\r\n\r\n  let content;\r\n\r\n  if (favoritesCtx.totalFavorites === 0) {\r\n    content = <p>Look for your favorite photos in All Photos to show off later!</p>;\r\n  } else {\r\n    content = <PhotoList photos={favoritesCtx.favorites} />;\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <h1>My Favorites</h1>\r\n      { content }\r\n    </section>\r\n  );\r\n}\r\n","export const MainNavigationItem = [\r\n  {\r\n    id: 1,\r\n    title: \"All Photos\",\r\n    link: \"/\"\r\n  },\r\n  {\r\n    id: 2,\r\n    title: \"Add New Photos\",\r\n    link: \"new-photos\"\r\n  },\r\n  {\r\n    id: 3,\r\n    title: \"Favorites\",\r\n    link: \"favorites\"\r\n  },\r\n];\r\n","import React, { useContext } from \"react\";\r\nimport styling from \"../../styles/_main-navigation.module.scss\";\r\nimport FavoritesContext from \"../../../store/favorites-context\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MainNavigationItem } from \"./MainNavigationItem\";\r\n\r\nexport default function MainNavigation() {\r\n  const favoritesCtx = useContext(FavoritesContext);\r\n\r\n  return (\r\n    <header className={styling.header}>\r\n      <div className={styling.logo}>Vista Gallery</div>\r\n      <nav>\r\n        <ul>\r\n          {MainNavigationItem.map((val, key) => {\r\n            let favoriteCounter;\r\n\r\n            if (val.id === 3) {\r\n              favoriteCounter = (\r\n                <span className={styling.badge}>\r\n                  {favoritesCtx.totalFavorites}\r\n                </span>\r\n              );\r\n            }\r\n\r\n            return (\r\n              <li key={key}>\r\n                <Link\r\n                  to={val.link}\r\n                >\r\n                  {val.title} {favoriteCounter}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport MainNavigation from \"./MainNavigation\";\r\nimport styling from '../../styles/_layout.module.scss';\r\n\r\nexport default function Layout(props) {\r\n    return (\r\n        <div>\r\n            <MainNavigation />\r\n            <main className={styling.main}>\r\n                {props.children}\r\n            </main>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\nimport AllPhotos from \"./assets/pages/AllPhotos\";\nimport NewPhotos from \"./assets/pages/NewPhotos\";\nimport Favorites from \"./assets/pages/Favorites\";\nimport Layout from \"./assets/components/layout/Layout\";\n\nexport default function App() {\n  return (\n    <div>\n      <Layout>\n        <Switch>\n          <Route path=\"/\" exact>\n            <AllPhotos />\n          </Route>\n          <Route path=\"/new-photos\">\n            <NewPhotos />\n          </Route>\n          <Route path=\"/favorites\">\n            <Favorites />\n          </Route>\n        </Switch>\n      </Layout>\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { FavoritesContextProvider } from \"./store/favorites-context\";\nimport \"./App.scss\";\n\nReactDOM.render(\n  <FavoritesContextProvider>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </FavoritesContextProvider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}